!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(n=n||self)["w-scroll-panel"]=e()}(this,function(){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(e)}var e=function(e){var t=n(e);return null!=e&&("object"==t||"function"==t)},t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},r="object"==n(t)&&t&&t.Object===Object&&t,i="object"==("undefined"==typeof self?"undefined":n(self))&&self&&self.Object===Object&&self,o=r||i||Function("return this")(),a=o.Symbol,s=Object.prototype,u=s.hasOwnProperty,l=s.toString,c=a?a.toStringTag:void 0;var f=function(n){var e=u.call(n,c),t=n[c];try{n[c]=void 0;var r=!0}catch(n){}var i=l.call(n);return r&&(e?n[c]=t:delete n[c]),i},d=Object.prototype.toString;var v=function(n){return d.call(n)},h="[object Null]",p="[object Undefined]",m=a?a.toStringTag:void 0;var g=function(n){return null==n?void 0===n?p:h:m&&m in Object(n)?f(n):v(n)};var y=function(e){return null!=e&&"object"==n(e)},b="[object Symbol]";var w=function(e){return"symbol"==n(e)||y(e)&&g(e)==b},S=NaN,E=/^\s+|\s+$/g,x=/^[-+]0x[0-9a-f]+$/i,M=/^0b[01]+$/i,T=/^0o[0-7]+$/i,_=parseInt;var j=function(n){if("number"==typeof n)return n;if(w(n))return S;if(e(n)){var t="function"==typeof n.valueOf?n.valueOf():n;n=e(t)?t+"":t}if("string"!=typeof n)return 0===n?n:+n;n=n.replace(E,"");var r=M.test(n);return r||T.test(n)?_(n.slice(2),r?2:8):x.test(n)?S:+n},B=1/0,H=17976931348623157e292;var O=function(n){return n?(n=j(n))===B||n===-B?(n<0?-1:1)*H:n==n?n:0:0===n?n:0};var P=function(n){var e=O(n),t=e%1;return e==e?t?e-t:e:0};var D=function(n){return"number"==typeof n&&n==P(n)};function N(n){return!(!function(n){return"[object String]"===Object.prototype.toString.call(n)}(n)||""===n)}function C(n){var e=!1;return N(n)?e=!isNaN(Number(n)):function(n){return"[object Number]"===Object.prototype.toString.call(n)}(n)&&(e=!0),e}function R(n){return C(n)?O(n):0}var L=function(n,e){for(var t=-1,r=null==n?0:n.length,i=Array(r);++t<r;)i[t]=e(n[t],t,n);return i},k=Array.isArray,$=1/0,Y=a?a.prototype:void 0,z=Y?Y.toString:void 0;var U=function n(e){if("string"==typeof e)return e;if(k(e))return L(e,n)+"";if(w(e))return z?z.call(e):"";var t=e+"";return"0"==t&&1/e==-$?"-0":t};var X=function(n){return null==n?"":U(n)},A=o.isFinite,F=Math.min;var I=function(n){var e=Math[n];return function(n,t){if(n=j(n),(t=null==t?0:F(P(t),292))&&A(n)){var r=(X(n)+"e").split("e"),i=e(r[0]+"e"+(+r[1]+t));return+((r=(X(i)+"e").split("e"))[0]+"e"+(+r[1]-t))}return e(n)}}("round");function V(n){return!!function(n){return!!C(n)&&(n=R(n),D(n))}(n)&&function(n){if(!C(n))return 0;n=R(n);var e=I(n);return"0"===String(e)?0:e}(n)>0}!function(n,e){var t,r,i="";function o(e,o,a,s){e[t](i+o,"wheel"===r?a:function(e){!e&&(e=n.event);var t={originalEvent:e,target:e.target||e.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"===e.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){e.preventDefault?e.preventDefault():e.returnValue=!1}};return"mousewheel"===r?(t.deltaY=-.025*e.wheelDelta,e.wheelDeltaX&&(t.deltaX=-.025*e.wheelDeltaX)):t.deltaY=e.detail,a(t)},s||!1)}n.addEventListener?t="addEventListener":(t="attachEvent",i="on"),r="onwheel"in e.createElement("div")?"wheel":void 0!==e.onmousewheel?"mousewheel":"DOMMouseScroll",n.addWheelListener=function(n,e,t){o(n,r,e,t),"DOMMouseScroll"===r&&o(n,"MozMousePixelScroll",e,t)}}(window,document);var W={props:{viewHeight:{type:Number,default:400},contentHeight:{type:Number,default:1e4},scrollDelta:{type:Number,default:100},barSizeMin:{type:Number,default:50},barColor:{type:String,default:"#bbb"},barBackgroundColor:{type:String,default:"rgba(0,0,0,0)"},ratio:{type:Number,default:0}},data:function(){return{mmkey:null,ratioTrans:0,barPressY:null,barPressing:!1,barOpacity:.5}},mounted:function(){var n=this;n.mmkey=function(){var n,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32,t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),r=[],i=t.length;if(V(e))for(n=0;n<e;n++)r[n]=t[0|Math.random()*i];else{if("rfc4122"!==e)return"";var o;for(r[8]=r[13]=r[18]=r[23]="-",r[14]="4",n=0;n<36;n++)r[n]||(o=0|16*Math.random(),r[n]=t[19===n?3&o|8:o])}return r.join("")}();var e=n.$refs.divPanel;window.addWheelListener(e,function(e){var t=e.deltaY/Math.abs(e.deltaY);return n.scrollPanel(n.mmkey,t),e.stopPropagation(),e.preventDefault(),!1}),window.addEventListener("mousedown",function(e){n.pressBar(n.mmkey,e)}),window.addEventListener("mousemove",function(e){n.dragBar(n.mmkey,e)}),window.addEventListener("mouseup",function(e){n.freedBar(n.mmkey,e)})},beforeDestroy:function(){window.removeEventListener("mousedown",this.pressBar),window.removeEventListener("mousemove",this.dragBar),window.removeEventListener("mouseup",this.freedBar)},computed:{changeRatio:function(){var n=this.ratio;return n=Math.max(n,0),n=Math.min(n,1),this.ratioTrans=n,""},barSize:function(){var n=this.viewHeight/this.contentHeight,e=Math.max(n*this.viewHeight,this.barSizeMin);return e},barLoc:function(){return this.ratioTrans*this.viewHeightEff},contentHeightEff:function(){var n=this.contentHeight-this.viewHeight;return n=Math.max(n,0)},viewHeightEff:function(){var n=this.viewHeight-this.barSize-4;return n=Math.max(n,0)},viewTop:function(){return this.ratioTrans*this.contentHeightEff},viewBottom:function(){return this.viewTop+this.viewHeight}},methods:{pressBar:function(n,e){this.mmkey===n&&(this.barPressY=e.clientY)},dragBar:function(n,e){var t=this;if(t.mmkey===n&&t.barPressing){var r=(e.clientY-t.barPressY)/t.viewHeightEff;t.scrollByDeltaRatio(r),t.barPressY=e.clientY}},freedBar:function(n){this.mmkey===n&&this.barPressing&&(this.barPressing=!1,this.triggerEvent("freedBar"))},triggerEvent:function(n){var e=this;setTimeout(function(){var t={from:n,r:e.ratioTrans,t:e.viewTop,b:e.viewBottom,ch:e.contentHeight};e.$emit("update:ratio",e.ratioTrans),e.$emit("change",t),n&&e.$emit(n,t)},1)},scrollByDeltaRatio:function(n){var e=this,t=e.ratioTrans;t>=0&&t<=1&&(t+=n),t=Math.max(t,0),t=Math.min(t,1),0===e.contentHeightEff&&(t=0),e.ratioTrans!==t&&(e.ratioTrans=t,e.triggerEvent())},scrollByDelta:function(n){var e=n/this.contentHeight;this.scrollByDeltaRatio(e)},scrollPanel:function(n,e){if(this.mmkey===n){var t=e*this.scrollDelta;this.scrollByDelta(t)}}}};var J,Z=function(n,e,t,r,i,o,a,s,u,l){"boolean"!=typeof a&&(u=s,s=a,a=!1);var c,f="function"==typeof t?t.options:t;if(n&&n.render&&(f.render=n.render,f.staticRenderFns=n.staticRenderFns,f._compiled=!0,i&&(f.functional=!0)),r&&(f._scopeId=r),o?(c=function(n){(n=n||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(n=__VUE_SSR_CONTEXT__),e&&e.call(this,u(n)),n&&n._registeredComponents&&n._registeredComponents.add(o)},f._ssrRegister=c):e&&(c=a?function(){e.call(this,l(this.$root.$options.shadowRoot))}:function(n){e.call(this,s(n))}),c)if(f.functional){var d=f.render;f.render=function(n,e){return c.call(e),d(n,e)}}else{var v=f.beforeCreate;f.beforeCreate=v?[].concat(v,c):[c]}return t},q="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());var G={};var K=function(n){return function(n,e){return function(n,e){var t=q?e.media||"default":n,r=G[t]||(G[t]={ids:new Set,styles:[]});if(!r.ids.has(n)){r.ids.add(n);var i=e.source;if(e.map&&(i+="\n/*# sourceURL="+e.map.sources[0]+" */",i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e.map))))+" */"),r.element||(r.element=document.createElement("style"),r.element.type="text/css",e.media&&r.element.setAttribute("media",e.media),void 0===J&&(J=document.head||document.getElementsByTagName("head")[0]),J.appendChild(r.element)),"styleSheet"in r.element)r.styles.push(i),r.element.styleSheet.cssText=r.styles.filter(Boolean).join("\n");else{var o=r.ids.size-1,a=document.createTextNode(i),s=r.element.childNodes;s[o]&&r.element.removeChild(s[o]),s.length?r.element.insertBefore(a,s[o]):r.element.appendChild(a)}}}(n,e)}};const Q=W;var nn=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{style:"position:relative; overflow:hidden; height:"+n.viewHeight+";",attrs:{changeRatio:n.changeRatio},on:{mouseenter:function(e){n.barOpacity=1},mouseleave:function(e){n.barOpacity=.5}}},[t("div",{style:"height:"+(n.viewHeight+1)+"px;"}),n._v(" "),n.contentHeightEff>0?t("div",{staticStyle:{position:"absolute",top:"0",right:"0px",height:"100%","z-index":"1"}},[t("div",{style:"position:relative; width:10px; height:100%; background-color:"+n.barBackgroundColor+"; padding:2px;"},[t("div",{style:"width:100%; height:"+n.barSize+"px; background-color:"+n.barColor+"; border-radius:15px; user-select:none; transform:translateY("+n.barLoc+"px); cursor:pointer; opacity:"+n.barOpacity+"; transition:opacity 0.5s;",on:{mousedown:function(e){n.barPressing=!0},dragstart:function(n){return n.stopPropagation(),n.preventDefault(),!1},dragover:function(n){return n.stopPropagation(),n.preventDefault(),!1},drop:function(n){return n.stopPropagation(),n.preventDefault(),!1}}})])]):n._e(),n._v(" "),t("div",{ref:"divPanel",style:"position:absolute; top:0px; width:calc(100% + 17px); overflow-y:auto; overflow-x:hidden; height:"+n.viewHeight+"px;"},[n._t("default")],2)])};nn._withStripped=!0;return Z({render:nn,staticRenderFns:[]},function(n){n&&n("data-v-562beef3_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"WScrollPanel.vue"},media:void 0})},Q,"data-v-562beef3",!1,void 0,K,void 0)});
//# sourceMappingURL=w-scroll-panel.umd.js.map
